% THE NEXT LINES GIVE DEFINITIONS FOR THE THEOREM ENVIRONMENTS.
% EACH IS VIEWED AS A theorem environment IN THE SENSE OF LaTeX.
% THEIR NAMES ARE: Theorem, Proposition, Lemma, Corollary, Proposition,
% Criterion, Definition, Conjecture, Example, Problem, Remark, 
% Summary, and Acknowledgement.  ALSO INCLUDED WITHIN encs.sty ARE THE
% ENVIRONMENTS Note, Claim and Case UNDER THEIR OWN NAMES, AND THE
% ENVIRONMENT Algorithm UNDER THE NAME alg; FOR THIS USE 
% \begin{alg} text \end{alg}.
% TYPE \begin{name} text \end{name} AS USUAL FOR ENVIRONMENTS IN LaTeX.
% THE ENVIRONMENT name IS NUMBERED WITHIN section. E.G. THE FIRST 'Name' 
% IN SECTION 1 IS NUMBERED 'Name 1.1'

\newenvironment{theorem}{\vspace{-\lastskip}\par\addvspace{.6pc plus
    .2pc minus .1pc}\begin{thm}}{\end{thm}\par\addvspace{.6pc plus
    .2pc minus .1pc}} 
\newenvironment{lemma}{\vspace{-\lastskip}\par
  \addvspace{.6pc plus .2pc minus .1pc}\begin{lem}}
  {\end{lem}\par\addvspace{.6pc plus .2pc minus .1pc}}
\newenvironment{corollary}{\vspace{-\lastskip}\par \addvspace{.6pc
    plus .2pc minus .1pc}\begin{cor}}{\end{cor}\par\addvspace{.6pc
    plus .2pc minus .1pc}}
\newenvironment{proposition}{\vspace{-\lastskip}\par \addvspace{.6pc
    plus .2pc minus .1pc}\begin{prop}}{\end{prop}\par\addvspace{.6pc
    plus .2pc minus .1pc}}
\newenvironment{criterion}{\vspace{-\lastskip}\par \addvspace{.6pc
    plus .2pc minus .1pc} \begin{crit}}{\end{crit}\par\addvspace{.6pc
    plus .2pc minus .1pc}}
\newenvironment{definition}{\vspace{-\lastskip}\par \addvspace{.6pc
    plus .2pc minus
    .1pc}\begin{defn}\rm}{\end{defn}\par\addvspace{.6pc plus .2pc
    minus .1pc}}
\newenvironment{conjecture}{\vspace{-\lastskip}\par \addvspace{.6pc
    plus .2pc minus .1pc}\begin{conj}}{\end{conj}\par\addvspace{.6pc
    plus .2pc minus .1pc}}
\newenvironment{example}{\vspace{-\lastskip}\par \addvspace{.6pc plus
    .2pc minus .1pc}\begin{exmp}\rm}{\end{exmp}\par\addvspace{.6pc
    plus .2pc minus .1pc}}
\newenvironment{problem}{\vspace{-\lastskip}\par \addvspace{.6pc plus
    .2pc minus .1pc}\begin{prob}}{\end{prob}\par\addvspace{.6pc plus
    .2pc minus .1pc}} \newenvironment{remark}{\vspace{-\lastskip}\par
  \addvspace{.6pc plus .2pc minus .1pc}\begin{rem}\rm}
{\end{rem}\par\addvspace{.6pc plus .2pc minus .1pc}}
\newenvironment{summary}{\vspace{-\lastskip}\par \addvspace{.6pc plus
    .2pc minus .1pc}\begin{summ}}{\end{summ}\par\addvspace{.6pc plus
    .2pc minus .1pc}}
\newenvironment{acknowledgement}{\vspace{-\lastskip}\par\addvspace{.6pc
    plus .2pc minus .1pc}\begin{ack}}{\end{ack}\par\addvspace{.6pc
    plus .2pc minus .1pc}}

\newenvironment{exercise}{\begin{trivlist}\item[\hskip%
    \labelsep{\bf Exercise.}]}% 
    {\end{trivlist}}

%% THE ENVIRONMENT \begin{proof} ... \end{proof} PRODUCES AN
%% END-OF-PROOF SIGN.

\newenvironment{proof}{\begin{pf}}{\qed\end{pf}}

%% THE ENVIRONMENT \begin{proof*} ... \end{proof*} SUPPORTS ADDING
%% INFORMATION SUCH AS  'Proof (Sketch)' AS THE LABEL FOR THE PROOF.

\newenvironment{proof*}{\begin{pf*}}{\qed\end{pf*}}

%% END OF `entcsmacro.sty'%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \renewtheorem command
\makeatletter
\def\renewtheorem#1{%
	\expandafter\let\csname#1\endcsname\relax
	\expandafter\let\csname c@#1\endcsname\relax
	\gdef\renewtheorem@envname{#1}
	\renewtheorem@secpar
}
\def\renewtheorem@secpar{\@ifnextchar[{\renewtheorem@numberedlike}{\renewtheorem@nonumberedlike}}
\def\renewtheorem@numberedlike[#1]#2{\newtheorem{\renewtheorem@envname}[#1]{#2}}
\def\renewtheorem@nonumberedlike#1{  
	\def\renewtheorem@caption{#1}
	\edef\renewtheorem@nowithin{\noexpand\newtheorem{\renewtheorem@envname}{\renewtheorem@caption}}
	\renewtheorem@thirdpar
}
\def\renewtheorem@thirdpar{\@ifnextchar[{\renewtheorem@within}{\renewtheorem@nowithin}}
\def\renewtheorem@within[#1]{\renewtheorem@nowithin[#1]}
\makeatother

% Spanish
\renewtheorem{thm}{Teorema}[section]
\renewtheorem{alg}{Algoritmo}[section]